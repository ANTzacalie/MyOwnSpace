<Window x:Class="StartInterface.Window4"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:StartInterface"
        mc:Ignorable="d"
        ResizeMode="NoResize"
        Title="MyOwnSpace ver1.1" Height="480" Width="780"  Background="Black" Foreground="#FF020101"
        Icon="pack://application:,,,/resources/favicon.ico">

    <Grid Margin="10" Focusable="True" MouseLeftButtonDown="FocusableArea_MouseLeftButtonDown">

        <Grid.RowDefinitions>
            <RowDefinition Height="166*"/>
            <RowDefinition Height="279*"/>
        </Grid.RowDefinitions>

        <!-- Divide the window into 2 equal halves -->
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>

        <Border Background="Transparent" Focusable="True"  MouseLeftButtonDown="FocusableArea_MouseLeftButtonDown" Width="780" Height="480" Grid.ColumnSpan="2" HorizontalAlignment="Right" Margin="0,-26,-10,0" Grid.RowSpan="2" VerticalAlignment="Top" ></Border>


        <!-- LEFT SIDE: Add user form -->
        <StackPanel VerticalAlignment="Top" HorizontalAlignment="Center" Width="250" Height="200" Margin="0,147,0,0" Grid.RowSpan="2" >

            <TextBlock Text="Add New User" FontSize="19" FontWeight="Bold" Foreground="White" HorizontalAlignment="Center" Margin="0,0,0,10"/>
            <TextBox x:Name="EmailTextBox" FontSize="19" Foreground="Black" Width="220" Height="30" />
            <TextBox x:Name="PasswordBox" FontSize="19" Foreground="Black" Width="220" Height="30" />

            <Button
                xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes" 
                x:Name="Add_new_user"
                Click="Add_user"
                Background="Orange"
                Foreground="White"
                Margin="10"
                BorderThickness="0"
                Height="44"
                Width="80">

                <Button.Resources>
                    <ResourceDictionary>
                        <ResourceDictionary.MergedDictionaries>
                            <ResourceDictionary Source="pack://application:,,,/MaterialDesignThemes.Wpf;component/Themes/MaterialDesignTheme.Light.xaml" />
                            <ResourceDictionary Source="pack://application:,,,/MaterialDesignColors;component/Themes/Recommended/Primary/MaterialDesignColor.DeepPurple.xaml" />
                        </ResourceDictionary.MergedDictionaries>

                        <Style TargetType="{x:Type Border}">
                            <Setter Property="CornerRadius" Value="20"/>
                        </Style>
                    </ResourceDictionary>
                </Button.Resources>

                <StackPanel Orientation="Horizontal" VerticalAlignment="Center" HorizontalAlignment="Center">

                    <materialDesign:PackIcon 
                            Kind="PersonAddOutline"
                            Width="24" Height="24"
                            Foreground="White"
                            VerticalAlignment="Center"
                            HorizontalAlignment="Center" 
                    />

                </StackPanel>

            </Button>

        </StackPanel>

        <!-- RIGHT SIDE: List of users -->
        <ListBox
            
            x:Name="UsersListBox"
            Background="Black" 
            Foreground="White"
            BorderThickness="2.5"
            BorderBrush="White"
            FocusVisualStyle="{x:Null}"
            FontSize="14"
            HorizontalContentAlignment="Stretch"
            Margin="10,20,20,20" Grid.Column="1" Grid.RowSpan="2">

            <ListBox.ItemTemplate>
                
                <DataTemplate>
                    
                    <Grid Margin="5" >
                        
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>

                        <!-- The username text -->
                        <TextBlock Text="{Binding Name}" VerticalAlignment="Center" />

                  
                        <Button 
    
                            Grid.Column="2" 
                            CommandParameter="{Binding}"
                            Click="DeleteUser_Click"
                            Background="Black"
                            BorderThickness="0"
                            Margin="5,0"
                            xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes" HorizontalAlignment="Left">

                            <Button.Resources>
                                <ResourceDictionary>
                                    <ResourceDictionary.MergedDictionaries>
                                        <ResourceDictionary Source="pack://application:,,,/MaterialDesignThemes.Wpf;component/Themes/MaterialDesignTheme.Light.xaml" />
                                        <ResourceDictionary Source="pack://application:,,,/MaterialDesignColors;component/Themes/Recommended/Primary/MaterialDesignColor.DeepPurple.xaml" />
                                    </ResourceDictionary.MergedDictionaries>

                                    <Style TargetType="Border">
                                        <Setter Property="CornerRadius" Value="25"/>
                                    </Style>
                                </ResourceDictionary>
                            </Button.Resources>


                            <Button.Content>

                                <StackPanel Orientation="Horizontal" VerticalAlignment="Center" HorizontalAlignment="Center">

                                    <materialDesign:PackIcon 
                                        Kind="DeleteOutline"
                                        Width="30" Height="30"
                                        Foreground="Red"
                                        VerticalAlignment="Center"
                                        HorizontalAlignment="Center" 
                                    />

                                </StackPanel>

                            </Button.Content>

                        </Button>
                        
                    </Grid>
                    
                </DataTemplate>
                
            </ListBox.ItemTemplate>
            
        </ListBox>


    </Grid>

</Window>
